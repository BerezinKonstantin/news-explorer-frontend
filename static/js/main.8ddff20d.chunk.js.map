{"version":3,"sources":["contexts/CurrentUserContext.js","images/logout-black.svg","images/logout-white.svg","components/Header/Header.js","images/avatar.jpg","components/About/About.js","components/SearchForm/SearchForm.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","images/not-found.svg","components/SearchResult/SearchResult.js","components/Main/Main.js","images/github-icon.svg","images/facebook-icon.svg","components/Footer/Footer.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/PopupWithForm/PopupWithForm.js","components/PopupForLogin/PopupForLogin.js","components/PopupForSignup/PopupForSignup.js","components/PopupInfoTip/PopupInfoTip.js","utils/constants.js","utils/NewsApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","utils/MainApi.js","serviceWorker.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","currentUser","useContext","useState","isMenuOpen","setIsMenuOpen","menuClose","logoutIcon","isHeaderBlack","logoutIconBlack","logoutIconWhite","className","to","onClick","isMobilePopupOpen","activeClassName","exact","isLogin","onMobilePopupOpen","onPopupForSignup","onLogout","name","alt","src","About","avatar","SearchForm","searchInput","useRef","isValid","setIsValid","isErrHide","setIsErrHide","onSubmit","ev","preventDefault","onGetArticles","current","value","noValidate","onMouseDown","type","id","autoComplete","ref","required","placeholder","minLength","onChange","target","closest","checkValidity","disabled","NewsCard","isCardSaved","setIsCardSaved","isButtonOnFocus","setIsButtonOnFocus","location","useLocation","pathname","cardText","card","description","text","cardLink","url","link","imgSource","urlToImage","image","keyword","cardDate","publishedAt","date","cardSource","source","handleClick","data","title","onSaveArticle","handleSaveArticle","onDeleteArticle","_id","handleFocus","href","rel","year","slice","month","replace","dateConverter","onMouseEnter","onMouseLeave","NewsCardList","cards","map","i","Preloader","SearchResult","cardsNumber","setCardsNumber","searchResult","isSearchSuccess","length","isNotResult","isSearchCompleted","isRenderLoading","notFoundIcon","Main","Footer","githubIcon","fbIcon","SavedNewsHeader","numberOfArticles","savedArticles","sortedKeywords","SavedNews","useEffect","getSavedArticles","PopupWithForm","isOpenClassName","isPopupForSignupOpen","isPopupForLoginOpen","onOverlayClick","action","method","onClose","values","email","pattern","errors","password","maxLength","submitError","defaultValue","buttonName","onButtonClick","buttonLink","PopupForLogin","inputId","inputNameClass","PopupForSignup","onPopupForLogin","PopupInfoTip","isOpen","infoTipText","basedUrlMainApi","Api","this","_currentDate","Date","_initialDate","setDate","getDate","_formatDate","getFullYear","getMonth","params","fetch","then","result","ok","json","Promise","reject","status","_fetch","ProtectedRoute","Component","component","App","history","useHistory","newsApi","NewsApi","setIsLogin","setCurrentUser","setIsHeaderBlack","setIsPopupForLoginOpen","setIsPopupForSignupOpen","isPopupInfoTipOpen","setIsPopupInfoTipOpen","setIsMobilePopupOpen","setSearchResult","setSavedArticles","setSortedKeywords","setIsSearchCompleted","currentKeyword","setCurrentKeyword","setIsRenderLoading","setInfoTipText","setValues","setErrors","setSubmitError","handleChange","event","validationMessage","resetForm","useCallback","newValues","newErrors","newIsValid","newSubmitError","handleCloseAllPopups","document","removeEventListener","onEscClose","evt","key","handlePopupForSignup","addEventListener","handlePopupInfoTip","handlePopupForLogin","handleOverlayClick","classList","contains","token","basedUrl","headers","Accept","Authorization","response","res","getArticlesApi","localStorage","getItem","convertedKeywords","el","reduce","prevVal","item","sorrtedKeywords","Object","keys","sort","a","b","catch","error","console","deleteArticle","cardId","deleteArticleApi","onLogin","body","JSON","stringify","log","err","loginApi","setItem","message","Error","onSignup","signupApi","checkToken","checkTokenApi","handlePopupSubmit","savedSearchResult","savedCurrentKeyword","parse","handleHeaderChange","Provider","removeItem","push","path","saveArticleApi","convertedKeyword","toUpperCase","getArticles","articles","finally","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8ddff20d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/logout-black.4fb874ec.svg\";","export default __webpack_public_path__ + \"static/media/logout-white.1f2ed6dd.svg\";","import React, { useState, useContext } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport logoutIconBlack from '../../images/logout-black.svg'\r\nimport logoutIconWhite from '../../images/logout-white.svg'\r\nimport { NavLink, Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  \r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  function menuOpen() {\r\n    setIsMenuOpen(true);\r\n  }\r\n  function menuClose() {\r\n    setIsMenuOpen(false);\r\n  }\r\n  function authButtonClick(){\r\n    menuClose();\r\n    props.onMobilePopupOpen();\r\n    props.onPopupForSignup();\r\n  }\r\n  const logoutIcon = `${props.isHeaderBlack ? logoutIconBlack : logoutIconWhite}`;\r\n\r\n  return (\r\n    <>\r\n      <div className={ 'header__overlay' + (isMenuOpen ? ' header__overlay_active' : '') }>\r\n      </div>\r\n      <header className={ 'header' + (props.isHeaderBlack ? ' header_black-version' : '') + (isMenuOpen ? ' header_opened-menu' : '') }>\r\n        <Link\r\n          className={ 'header__logo header__link' + (props.isHeaderBlack ? ' header__link_black-version header__logo_black-version' : '') }\r\n          to='/'\r\n        >\r\n          NewsExplorer\r\n        </Link>\r\n        {\r\n          isMenuOpen ? \r\n          <button\r\n            className={'header__menu-button' + (props.isHeaderBlack ? ' header__menu-button_close_black-version' : '   header__menu-button_close') }\r\n            onClick={menuClose}\r\n          >\r\n          </button>\r\n          :\r\n          <button\r\n            className={'header__menu-button' + (props.isHeaderBlack ? ' header__menu-button_open_black-version' : '   header__menu-button_open') + (props.isMobilePopupOpen ? ' header__menu-button_hidden' : '')}\r\n            onClick={menuOpen}\r\n          >\r\n          </button>\r\n        }\r\n        <nav className={'header__nav' + (isMenuOpen ? '' : ' header__nav_hidden')}> \r\n          <NavLink\r\n            activeClassName={ (props.isHeaderBlack ? 'header__link_active_black-version' : 'header__link_active') }\r\n            className={ 'header__main header__link' + (props.isHeaderBlack ? ' header__link_black-version' : '') }\r\n            exact\r\n            to='/'\r\n          >\r\n            Главная\r\n          </NavLink>\r\n          {\r\n            props.isLogin &&\r\n            <NavLink\r\n             activeClassName={ (props.isHeaderBlack ? 'header__link_active_black-version' : 'header__link_active') }\r\n             className={ 'header__saved-news header__link' + (props.isHeaderBlack ? ' header__link_black-version' : '') }\r\n             to='/saved-news'\r\n            >\r\n              Сохранённые статьи\r\n            </NavLink>\r\n          }\r\n          { \r\n            !props.isLogin && \r\n            <button \r\n              className={ 'header__auth-button' + (props.isHeaderBlack ? ' header__auth-button_black-version' : '') }\r\n              onClick={authButtonClick}\r\n            >\r\n              Авторизоваться\r\n            </button>\r\n          }\r\n          {\r\n            props.isLogin && \r\n            <button \r\n              className={ 'header__auth-button' + (props.isHeaderBlack ? ' header__auth-button_black-version' : '') }\r\n              onClick={props.onLogout}\r\n            >\r\n              { \r\n                props.isLogin && \r\n                (<>\r\n                  <span className={'header__auth-name' + (props.isHeaderBlack ? ' header__auth-name_black-version' : '') }>\r\n                    {currentUser.name}\r\n                  </span> \r\n                  <img\r\n                    className='header__logout-button'\r\n                    alt='Выход'\r\n                    src={logoutIcon}\r\n                  />\r\n                 </>\r\n                ) \r\n              }\r\n            </button>\r\n          }\r\n        </nav>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/avatar.bdeec35a.jpg\";","import React from 'react';\r\nimport avatar from '../../images/avatar.jpg'\r\n\r\nfunction About() {\r\n  return (\r\n    <div className='about'>\r\n      <img\r\n        className='about__avatar'\r\n        alt='Аватар пользователя'\r\n        src={avatar}/>\r\n      <div className='about__wrapper'>\r\n        <h2 className='about__title'>\r\n          Об авторе\r\n        </h2>\r\n        <p className='about__text'>\r\n          Привет, меня зовут Константин! \r\n          <br />\r\n          Это мой дипломный проект по завершению курса Frontend разработчика.\r\n          Это сервис - агрегатор новостей.\r\n          <br />\r\n          Вы можете искать новости интересующей вас теме с помощью стороннего API Newsapi.org.\r\n          Сейчас реализована регистрация, авторизация, сохранение и удаление найденных новостей на отдельной странице, так что - вперед, попробуйте!\r\n          <br />\r\n          Рад, что вы зашли)\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default About;","import React from 'react';\r\n\r\nfunction SearchForm(props) {\r\n  const searchInput = React.useRef();\r\n  const [isValid, setIsValid] = React.useState(false);\r\n  const [isErrHide, setIsErrHide] = React.useState(true);\r\n  const handleChange = (ev) => {\r\n    setIsValid(ev.target.closest('form').checkValidity());\r\n  };\r\n  function handleSubmit(ev) {\r\n    ev.preventDefault();\r\n    props.onGetArticles(searchInput.current.value);\r\n  }\r\n  function handleErrHide() {\r\n    setIsErrHide(false)\r\n  }\r\n\r\n  return ( \r\n    <div className='search-form'>\r\n     <h1 className='search-form__title'>\r\n        Что творится в мире?\r\n      </h1>\r\n      <p className='search-form__subtitle'>\r\n        Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.\r\n      </p>\r\n      \r\n      <form\r\n        className='search-form__form'\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n        onMouseDown={handleErrHide}\r\n      >\r\n        {!isValid && !isErrHide && <span className='search-form__error'>\r\n            Нужно ввести ключевое слово для поиска\r\n        </span>}\r\n        <div className='search-form__input-wrapper'>\r\n        <input\r\n          type ='text'\r\n          id='input-search'\r\n          className='search-form__input'\r\n          name='search'\r\n          autoComplete='off' \r\n          ref={searchInput}\r\n          required\r\n          placeholder='Введите тему новости'\r\n          minLength='2'\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className='search-form__submit-button' \r\n          type='submit'\r\n          disabled={!isValid}\r\n        >\r\n          Искать\r\n        </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchForm;","import React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction NewsCard(props) {\r\n  const [isCardSaved, setIsCardSaved] = useState(false)\r\n  const [isButtonOnFocus, setIsButtonOnFocus] = useState(false)\r\n  const location = useLocation().pathname;\r\n  const cardText = `${location === '/' ? props.card.description : props.card.text}`;\r\n  const cardLink = `${location === '/' ? props.card.url : props.card.link}`;\r\n  const imgSource = `${location === '/' ? props.card.urlToImage : props.card.image}`;\r\n  const keyword = `${location === '/' ? props.keyword : props.card.keyword}`;\r\n  const cardDate = `${location === '/' ? props.card.publishedAt : props.card.date}`;\r\n  const cardSource = `${location === '/' ? props.card.source.name : props.card.source}`;\r\n  \r\n  function handleSaveArticle(){\r\n    if(props.isLogin && !isCardSaved){ \r\n      if (location === '/'){\r\n        const data = {\r\n          link: props.card.url,\r\n          keyword: props.keyword, \r\n          title: props.card.title,\r\n          text: props.card.description,\r\n          date: props.card.publishedAt,\r\n          source: props.card.source.name,\r\n          image: props.card.urlToImage,\r\n        }\r\n        props.onSaveArticle(data);\r\n        setIsCardSaved(true);\r\n      }\r\n    }\r\n  }\r\n  function handleDeleteArticle(){\r\n    props.onDeleteArticle(props.card._id)\r\n    setIsCardSaved(false)\r\n  }\r\n  function handleClick(){\r\n    if (location === '/' ){\r\n      handleSaveArticle()\r\n    } if (location === '/saved-news'){\r\n      handleDeleteArticle()\r\n    }\r\n  }\r\n  function handleFocus(){\r\n    setIsButtonOnFocus(!isButtonOnFocus)\r\n  }\r\n\r\n  function dateConverter(date){\r\n    const year = date.slice(0,4);\r\n    const month = date.slice(5,7);\r\n    const day = date.slice(8,10);\r\n    const convertedMonth = month.replace('01', 'Января')\r\n    .replace('02', 'Февраля')\r\n    .replace('03', 'Марта')\r\n    .replace('04', 'Апреля')\r\n    .replace('05', 'Мая')\r\n    .replace('06', 'Июня')\r\n    .replace('07', 'Июля')\r\n    .replace('08', 'Августа')\r\n    .replace('09', 'Сентября')\r\n    .replace('10', 'Октября')\r\n    .replace('11', 'Ноября')\r\n    .replace('12', 'Декабря')\r\n    return (day + ' ' + convertedMonth + ', ' + year)\r\n  }\r\n\r\n  return (\r\n    <li className='card'>\r\n      <a \r\n      className='card_link'\r\n      href={cardLink}\r\n      rel='noopener noreferrer'\r\n      target='_blank'\r\n      >\r\n      <img\r\n        className='card__picture'\r\n        src={imgSource}\r\n        alt={props.card.title}\r\n      />\r\n      <p className='card__date'>\r\n        {dateConverter(cardDate)}\r\n      </p>\r\n      <h2 className='card__title'>\r\n        {props.card.title}\r\n      </h2>\r\n      <p className='card__text'>\r\n        {cardText}\r\n      </p>\r\n      <p className='card__source'>\r\n        {cardSource}\r\n      </p>\r\n      </a>\r\n      <p className='card__tag'>\r\n        {keyword}\r\n      </p>\r\n      {location === '/' ? \r\n        <button\r\n          className={'card__button card__button_save' + (isCardSaved ? ' card__button_save_active' : '')}\r\n          onClick={handleClick}\r\n          onMouseEnter={handleFocus}\r\n          onMouseLeave={handleFocus}\r\n          \r\n        >\r\n        </button>\r\n         :\r\n        <button\r\n          className={'card__button card__button_delete'}\r\n          onClick={handleClick}\r\n          onMouseEnter={handleFocus}\r\n          onMouseLeave={handleFocus}\r\n        >\r\n      </button>}\r\n      {isButtonOnFocus && props.isLogin && (location === '/saved-news') &&\r\n      <p className='card__button-label'>\r\n        Удалить из сохранённых\r\n      </p>}\r\n      {isButtonOnFocus && !props.isLogin &&\r\n      <p className='card__button-label'>\r\n        Войдите, чтобы сохранять статьи\r\n      </p>}\r\n    </li> \r\n  );\r\n}\r\n\r\nexport default NewsCard;","import React from 'react';\r\nimport NewsCard from '../NewsCard/NewsCard';\r\n\r\nfunction NewsCardList(props) {\r\n  return (\r\n    <ul className='card-list'>\r\n      {props.cards.map((card, i) => (\r\n          <NewsCard\r\n            card={card}\r\n            key={i}\r\n            keyword={props.keyword}\r\n            onSaveArticle={props.onSaveArticle}\r\n            onDeleteArticle={props.onDeleteArticle}\r\n            isLogin={props.isLogin}\r\n          />\r\n        ))}\r\n    </ul> \r\n  );\r\n}\r\n\r\nexport default NewsCardList;","import React from 'react';\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <i className='circle-preloader'/>        \r\n  );\r\n}\r\n\r\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/not-found.39241ac1.svg\";","import React, {useState} from 'react';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport notFoundIcon from '../../images/not-found.svg';\r\n\r\nfunction SearchResult(props) {\r\n  const [cardsNumber, setCardsNumber] = useState(3);\r\n  const cards = props.searchResult.slice(0, 0+cardsNumber);\r\n  const isSearchSuccess = props.searchResult.length !== 0 ? true : false;\r\n  const isNotResult = ( props.searchResult.length === 0 && props.isSearchCompleted ) ? true : false;\r\n  function showMoreCards(){\r\n     let nextNumber = cardsNumber+3;\r\n     setCardsNumber(nextNumber)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {\r\n      (isSearchSuccess || props.isRenderLoading || isNotResult) &&\r\n      (\r\n        <div className='search-result'>\r\n          { props.isRenderLoading && \r\n            <>\r\n              <Preloader />\r\n              <p className='search-result__subtitle'>\r\n                  Идет поиск новостей...\r\n              </p>\r\n            </>\r\n          }\r\n          { isSearchSuccess && \r\n            (\r\n              <>\r\n                <h1 className='search-result__title'>\r\n                  Результаты поиска\r\n                </h1>\r\n                <NewsCardList\r\n                  cards={cards}\r\n                  keyword={props.keyword}\r\n                  onSaveArticle={props.onSaveArticle}\r\n                  onDeleteArticle={props.onDeleteArticle}\r\n                  isLogin={props.isLogin}\r\n                />\r\n                { (cards.length < props.searchResult.length ) &&\r\n                  (<button\r\n                  className='search-result__more_button'\r\n                  type='button'\r\n                  onClick={showMoreCards}\r\n                  >\r\n                    Показать ещё\r\n                 </button>)\r\n                } \r\n              </>\r\n            )\r\n          } \r\n          { isNotResult &&\r\n            (\r\n              <>\r\n                <img\r\n                   className='search-result__img_not-result'\r\n                   src={notFoundIcon}\r\n                   alt='Ничего не найдено'\r\n                />\r\n                <h2 className='search-result__title_not-result'>\r\n                  Ничего не найдено\r\n                </h2>\r\n                <p className='search-result__subtitle'>\r\n                  К сожалению, по вашему запросу ничего не найдено.\r\n                </p>\r\n              </>\r\n            )\r\n          }\r\n        </div>\r\n      )\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchResult;","import React from 'react';\r\nimport About from '../About/About';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport SearchResult from '../SearchResult/SearchResult';\r\n\r\n\r\nfunction Main(props) {\r\n  \r\n  return (\r\n    <main className='main'>\r\n      <SearchForm\r\n        onGetArticles={props.onGetArticles}\r\n      />\r\n      <SearchResult\r\n        searchResult={props.searchResult}\r\n        isSearchCompleted={props.isSearchCompleted}\r\n        keyword={props.keyword}\r\n        onSaveArticle={props.onSaveArticle}\r\n        onDeleteArticle={props.onDeleteArticle}\r\n        isRenderLoading={props.isRenderLoading}\r\n        isLogin={props.isLogin}\r\n      /> \r\n      <About/>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/github-icon.618ae51c.svg\";","export default __webpack_public_path__ + \"static/media/facebook-icon.d5ca0b9c.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport githubIcon from '../../images/github-icon.svg'\r\nimport fbIcon from '../../images/facebook-icon.svg'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>\r\n        &copy; 2020 Supersite, Powered by News API\r\n      </p>\r\n      <nav className='footer__nav'>\r\n        <div className='footer__nav-wrapper'>\r\n          <Link className='footer__link' to='/'>\r\n            Главная\r\n          </Link>\r\n          <a \r\n            className='footer__link'\r\n            href='https://praktikum.yandex.ru'\r\n            rel='noopener noreferrer'\r\n            target='_blank'\r\n          >\r\n            Яндекс Практикум\r\n          </a>\r\n        </div>\r\n        <div className='footer__nav-wrapper'>\r\n          <a\r\n            className='footer__social-link'\r\n            href='https://github.com'\r\n            rel='noopener  noreferrer'\r\n            target='_blank'\r\n          >\r\n            <img\r\n              className='footer__social-link-img'\r\n              src={githubIcon}\r\n              alt='Иконка GitHub'\r\n            />\r\n          </a>\r\n          <a\r\n            className='footer__social-link'\r\n            href='https://www.facebook.com'\r\n            rel='noopener noreferrer'\r\n            target='_blank'\r\n          >\r\n            <img\r\n              className='footer__social-link-img'\r\n              src={fbIcon}\r\n              alt='Иконка Facebook'\r\n            />\r\n          </a>\r\n        </div>\r\n      </nav>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction SavedNewsHeader(props) {\r\n  const articles = props.savedArticles;\r\n  const numberOfArticles = articles.length;\r\n  \r\n  const currentUser = useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <div className='saved-news-header'>\r\n      <p className='saved-news-header__sub-title'>\r\n        Сохранённые статьи\r\n      </p>\r\n      <h1 className='saved-news-header__title'>\r\n        {currentUser.name}, у вас {numberOfArticles} сохранённых статей\r\n      </h1>\r\n    {props.sortedKeywords.length > 0 &&\r\n      (<p className='saved-news-header__info'>\r\n        По ключевым словам:\r\n        <span className='saved-news-header__info-bold'>\r\n         &nbsp;{props.sortedKeywords[0]}{props.sortedKeywords.length > 1 && (', ' + props.sortedKeywords[1])}&nbsp;\r\n        </span>\r\n        {props.sortedKeywords.length > 2 &&\r\n        <>и \r\n        <span className='saved-news-header__info-bold' >\r\n          &nbsp;{props.sortedKeywords.length - 2}-м&nbsp;\r\n        </span>\r\n        другим\r\n        </>}\r\n      </p>)\r\n    }\r\n    </div> \r\n  );\r\n}\r\n\r\nexport default SavedNewsHeader;","import React, {useEffect} from 'react';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\r\n\r\nfunction SavedNews(props) {\r\n  useEffect(() => {\r\n    props.getSavedArticles();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [] );\r\n  return (\r\n    <main className='saved-news'>\r\n      <SavedNewsHeader \r\n        savedArticles={props.savedArticles}\r\n        sortedKeywords={props.sortedKeywords}\r\n      />\r\n      <NewsCardList\r\n        cards={props.savedArticles}\r\n        onDeleteArticle={props.onDeleteArticle}\r\n        isLogin={props.isLogin}\r\n      />\r\n    </main> \r\n  );\r\n}   \r\n\r\nexport default SavedNews;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  \r\n  let isOpenClassName;\r\n  if (props.isPopupForSignupOpen || props.isPopupForLoginOpen) {\r\n    isOpenClassName = 'popup_opened';\r\n  }\r\n \r\n  return (\r\n    <section\r\n      className={`popup popup_for_${props.name} ${isOpenClassName}`}\r\n      onClick={props.onOverlayClick}\r\n    >\r\n      <form\r\n        id={`form_for_${props.name}`}\r\n        className='popup__form'\r\n        action='#'\r\n        method='POST'\r\n        noValidate \r\n        onSubmit={props.onSubmit}\r\n      >\r\n        <button\r\n          className='popup__close-button'\r\n          type='button'\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n        <h2 className='popup__title'>\r\n          {props.title}\r\n        </h2>\r\n        <fieldset className='popup__fieldset'>\r\n          <span className='popup__input-label'>\r\n            Email\r\n          </span>\r\n          <input\r\n            className='popup__input popup__input_email'\r\n            type='email'\r\n            name='email'\r\n            onChange={props.onChange}\r\n            value={props.values.email || ''}\r\n            autoComplete='email'\r\n            required\r\n            placeholder='Введите почту'\r\n            pattern='([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})'\r\n          />\r\n          {props.errors.email && <span\r\n            className='popup__input-error-text'\r\n          >\r\n            {props.errors.email}\r\n          </span>}\r\n          <span className='popup__input-label'>\r\n            Пароль\r\n          </span>\r\n          <input\r\n            className='popup__input popup__input_password'\r\n            type='password'\r\n            name='password'\r\n            onChange={props.onChange}\r\n            value={props.values.password || ''}\r\n            autoComplete='current-password'\r\n            required\r\n            placeholder='Введите пароль'\r\n            maxLength='32'\r\n            minLength='8'\r\n          />\r\n          {props.errors.password && <span\r\n            className='popup__input-error-text'\r\n          >\r\n            {props.errors.password}\r\n          </span>}\r\n          {props.isPopupForSignupOpen &&\r\n            (\r\n              <>\r\n            <span className='popup__input-label'>\r\n              Имя\r\n            </span>\r\n            <input\r\n              className='popup__input popup__input_name'\r\n              type='text'\r\n              name='name'\r\n              onChange={props.onChange}\r\n               value={props.values.name || ''}\r\n              required\r\n              placeholder='Введите свое имя'\r\n              pattern='[а-яА-Яa-zA-Z]{2,20}'\r\n              maxLength='20'\r\n              minLength='2'\r\n            />\r\n            {props.errors.name && <span \r\n              className='popup__input-error-text'\r\n            >\r\n              {props.errors.name}\r\n            </span>}\r\n            </>)}\r\n          <span\r\n            className={'popup__input-error-text popup__auth-error-text' + (props.submitError ? ' popup__auth-error-text_active' : '') }\r\n          >\r\n            {props.submitError}\r\n          </span>\r\n        </fieldset>\r\n        <button\r\n          className='popup__submit-button'\r\n          type='submit'\r\n          defaultValue={props.buttonName}\r\n          disabled={!props.isValid}\r\n        >\r\n          {props.buttonName}\r\n        </button>\r\n        <div className='popup__link-wrapper'>\r\n          <span>\r\n            или\r\n          </span>\r\n          <button\r\n          className='popup__link-button'\r\n          type='button'\r\n          onClick={props.onButtonClick} \r\n          > \r\n            {props.buttonLink}\r\n          </button> \r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nfunction PopupForLogin(props) {\r\n  return (\r\n    <PopupWithForm\r\n      title='Вход'\r\n      name='login'\r\n      inputId='login'\r\n      isPopupForLoginOpen={props.isPopupForLoginOpen}\r\n      onClose={props.onClose}\r\n      buttonName='Войти'\r\n      buttonLink='Зарегистрироваться'\r\n      onButtonClick={props.onPopupForSignup}\r\n      inputNameClass='popup__input-name-wrapper_hidden'\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={props.onSubmit}\r\n      isValid={props.isValid}\r\n      onChange={props.onChange}\r\n      values={props.values}\r\n      errors={props.errors}\r\n      submitError={props.submitError}\r\n    />    \r\n  );\r\n}\r\n\r\nexport default PopupForLogin;\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nfunction PopupForSignup(props) {\r\n  return (\r\n    <PopupWithForm \r\n      title='Регистрация'\r\n      name='signup'\r\n      inputId='signup'\r\n      isPopupForSignupOpen={props.isPopupForSignupOpen}\r\n      onClose={props.onClose}\r\n      buttonName='Зарегистрироваться'\r\n      buttonLink='Войти'\r\n      onButtonClick={props.onPopupForLogin}\r\n      inputNameClass='popup__input-name-wrapper_active'\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={props.onSubmit}\r\n      isValid={props.isValid}\r\n      onChange={props.onChange}\r\n      values={props.values}\r\n      errors={props.errors}\r\n      submitError={props.submitError}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupForSignup;\r\n","import React from 'react';\r\n\r\nfunction PopupInfoTip(props) {\r\n  let isOpen;\r\n  if (props.isOpen) {\r\n    isOpen = 'popup_opened';\r\n  }\r\n  function redirectToLogin(){\r\n    props.onClose()\r\n    props.onPopupForLogin()\r\n  }\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_info-tip ${isOpen}`}\r\n      onClick={props.onOverlayClick}\r\n    >\r\n      <div className='popup__form popup__form-info-tip'>\r\n        <button\r\n          className='popup__close-button'\r\n          type='button'\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n        <h2 className='popup__title'>\r\n          {props.infoTipText}\r\n        </h2>\r\n        {!props.isLogin && <button\r\n          className='popup__link-button-info-tip'\r\n          type='button'\r\n          onClick={redirectToLogin} \r\n        > \r\n          Войти\r\n        </button> }\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupInfoTip;\r\n","export const basedUrlNewsApi = 'https://nomoreparties.co/news/v2/everything?';\r\nexport const basedUrlMainApi = 'https://localhost:3001';\r\nexport const apiKey = '68f1c98bd386460cb603e368a24a99b3';\r\n\r\n","import { apiKey, basedUrlNewsApi as basedUrl } from './constants';\r\n\r\nexport default class Api {\r\n  constructor() {\r\n    this._currentDate = new Date();\r\n    this._initialDate = new Date();\r\n    this._initialDate.setDate(this._initialDate.getDate()-7);\r\n    this._formatDate = (date) => {\r\n    return (date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate())\r\n    }\r\n  }\r\n  _fetch(url, params) {\r\n    return fetch(url, params).then((result) => {\r\n      if (result.ok) {\r\n        return result.json();\r\n      }\r\n      return Promise.reject(result.status);\r\n    });\r\n  }\r\n  getArticles(keyword) {\r\n    return this._fetch(`${basedUrl}q=${keyword}&from=${this._formatDate(this._initialDate)}&to=${this._formatDate(this._currentDate)}&sortBy=publishedAt&pageSize=100&apiKey=${apiKey} `, {\r\n      method: 'GET'\r\n    });\r\n  }\r\n \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  // const isLogin = localStorage.getItem('isLogin');\r\n  useEffect(() =>{\r\n    if (!props.isLogin){\r\n      props.onPopupForSignup()\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Route>\r\n      { () => \r\n          props.isLogin ? <Component {...props} /> : (<Redirect to='/'/>)\r\n        }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useLocation, useHistory, Route, Switch } from 'react-router-dom';\r\nimport Header from '../Header/Header';\r\nimport Main from '../Main/Main';\r\nimport Footer from '../Footer/Footer';\r\nimport SavedNews from '../SavedNews/SavedNews';\r\nimport PopupForLogin from '../PopupForLogin/PopupForLogin';\r\nimport PopupForSignup from '../PopupForSignup/PopupForSignup';\r\nimport PopupInfoTip from '../PopupInfoTip/PopupInfoTip';\r\nimport NewsApi from '../../utils/NewsApi';\r\nimport {\r\n  signup as signupApi,\r\n  login as loginApi,\r\n  checkToken as checkTokenApi,\r\n  saveArticle as saveArticleApi,\r\n  getArticles as getArticlesApi,\r\n  deleteArticle as deleteArticleApi,\r\n} from '../../utils/MainApi';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const newsApi = new NewsApi();\r\n  const pathname = useLocation().pathname;\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isHeaderBlack, setIsHeaderBlack] = useState();\r\n  const [isPopupForLoginOpen, setIsPopupForLoginOpen] = useState(false);\r\n  const [isPopupForSignupOpen, setIsPopupForSignupOpen] = useState(false);\r\n  const [isPopupInfoTipOpen, setIsPopupInfoTipOpen] = useState(false);\r\n  const [isMobilePopupOpen, setIsMobilePopupOpen] = useState(false);\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [savedArticles, setSavedArticles] = useState([]);\r\n  const [sortedKeywords, setSortedKeywords] = useState([]);\r\n  const [isSearchCompleted, setIsSearchCompleted] = useState(false);\r\n  const [currentKeyword, setCurrentKeyword] = useState();\r\n  const [isRenderLoading, setIsRenderLoading] = useState(false);\r\n  const [infoTipText, setInfoTipText] = useState('');\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false); \r\n  const [submitError, setSubmitError] = useState('');\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false, newSubmitError = '') => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n      setSubmitError(newSubmitError);\r\n    },\r\n    [setValues, setErrors, setIsValid, setSubmitError]\r\n  );\r\n\r\n  function handleHeaderChange(pathname) {\r\n    if (pathname === '/saved-news') {\r\n      setIsHeaderBlack(true)\r\n    } if (pathname === '/') {\r\n      setIsHeaderBlack(false)\r\n    };\r\n  }\r\n  function handleCloseAllPopups() {\r\n      setIsPopupForLoginOpen(false);\r\n      setIsPopupForSignupOpen(false)\r\n      setIsPopupInfoTipOpen(false);\r\n      setIsMobilePopupOpen(false);\r\n      document.removeEventListener('keydown', onEscClose)\r\n  }\r\n  function onEscClose(evt) {\r\n    if(evt.key === 'Escape'){\r\n      handleCloseAllPopups();\r\n    }\r\n  }\r\n  function handlePopupForSignup() {\r\n    resetForm();\r\n    setIsPopupForSignupOpen(true);\r\n    setIsPopupForLoginOpen(false);\r\n    document.addEventListener('keydown', onEscClose);\r\n  }\r\n  function handlePopupInfoTip() {\r\n    setIsPopupInfoTipOpen(true);\r\n    document.addEventListener('keydown', onEscClose);\r\n  }\r\n  function handlePopupForLogin() {\r\n    resetForm();\r\n    setIsPopupForSignupOpen(false);\r\n    setIsPopupForLoginOpen(true);\r\n    document.addEventListener('keydown', onEscClose);\r\n  }\r\n  function handleMobilePopup() {\r\n    setIsMobilePopupOpen(true);\r\n  }\r\n  function logout() {\r\n    setIsLogin(false);\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('currentKeyword');\r\n    localStorage.removeItem(searchResult)\r\n    history.push('/');\r\n  }\r\n  function handleOverlayClick(evt) {\r\n    if (evt.target.classList.contains('popup')) {\r\n      handleCloseAllPopups();\r\n    }\r\n  }\r\n  function getSearchResult(keyword) {\r\n    const convertedKeyword = keyword[0].toUpperCase() + keyword.slice(1)\r\n    setIsRenderLoading(true);\r\n    newsApi.getArticles(convertedKeyword)\r\n    .then((result) =>{\r\n      setSearchResult(result.articles);\r\n      setCurrentKeyword(convertedKeyword);\r\n      localStorage.setItem('savedSearchResult', JSON.stringify(result.articles));\r\n      localStorage.setItem('currentKeyword', convertedKeyword);\r\n      setIsSearchCompleted(true);\r\n    })\r\n    .catch((error) => {\r\n        console.error(error);\r\n        setInfoTipText('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\r\n        handlePopupInfoTip()\r\n    })\r\n    .finally(()=>{\r\n      setIsRenderLoading(false)\r\n    });\r\n  }\r\n  function getSavedArticles() {\r\n    const token = localStorage.getItem('token');\r\n    getArticlesApi(token)\r\n    .then((result) =>{\r\n      setSavedArticles(result);\r\n      return result\r\n    })\r\n    .then((result) =>{\r\n      const articles = result\r\n      const keywords = articles.map(function(el){\r\n        return el.keyword\r\n      });\r\n      const convertedKeywords = keywords.reduce(function(prevVal, item) {\r\n        if (!prevVal[item]) {\r\n          prevVal[item] = 1;\r\n        } else {\r\n          prevVal[item] += 1;\r\n        }\r\n        return prevVal;\r\n      }, {})\r\n      const sorrtedKeywords =  Object.keys(convertedKeywords).sort((a, b) => convertedKeywords[b] - convertedKeywords[a]);\r\n      setSortedKeywords(sorrtedKeywords);\r\n    })\r\n    .catch((error) => {\r\n        console.error(error);\r\n    });\r\n  }\r\n  function saveArticle(data){\r\n    const token = localStorage.getItem('token');\r\n    saveArticleApi(token, data)\r\n    .catch((error) => {\r\n        console.error(error);\r\n    });\r\n  }\r\n  function deleteArticle(cardId){\r\n    const token = localStorage.getItem('token');\r\n    deleteArticleApi(token, cardId)\r\n    .then(()=>{\r\n      getSavedArticles()\r\n    })\r\n    .catch((error) => {\r\n        console.error(error);\r\n    });\r\n  }\r\n  function onLogin({ email, password }) {\r\n    loginApi({ email, password })\r\n        .then((res) => {\r\n          if (res.token) {\r\n            localStorage.setItem('token', res.token);\r\n            localStorage.setItem('isLogin', true);\r\n            setCurrentUser(\r\n              {\r\n                email: res.email,\r\n                name: res.name,\r\n                _id: res._id\r\n              }\r\n            );\r\n            setIsLogin(true);\r\n            setInfoTipText('Вход выполнен!');\r\n            }\r\n          if (res.message) {\r\n            setSubmitError(res.message);\r\n            throw new Error()\r\n          }\r\n        })\r\n      .then(() => {\r\n        handleCloseAllPopups() ;\r\n      })\r\n      .then(() => {\r\n        handlePopupInfoTip();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function onSignup({ password, email, name }) {\r\n    signupApi({ password, email, name })\r\n      .then((res) => {\r\n        if (res.email) {\r\n          setInfoTipText('Вы успешно зарегистрировались!');\r\n        }\r\n        if (res.message) {\r\n          setSubmitError(res.message);\r\n          throw new Error()\r\n        }\r\n      })\r\n      .then(() => {\r\n        handleCloseAllPopups() ;\r\n      })\r\n      .then(() => {\r\n        handlePopupInfoTip();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function checkToken() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      checkTokenApi(token).then((res) => {\r\n        if (res) {\r\n          setCurrentUser(\r\n            {\r\n              email: res.email,\r\n              name: res.name,\r\n              _id: res._id\r\n            });\r\n          setIsLogin(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  function handlePopupSubmit(ev) {\r\n    ev.preventDefault();\r\n    if (isPopupForSignupOpen){\r\n      onSignup({\r\n          password: values.password,\r\n          email: values.email,\r\n          name: values.name \r\n        }\r\n      );\r\n    } if (isPopupForLoginOpen) {\r\n       onLogin({\r\n          password: values.password,\r\n          email: values.email,\r\n        }\r\n      );\r\n    }\r\n  }   \r\n  \r\n  useEffect(() => {\r\n    const savedSearchResult = localStorage.getItem('savedSearchResult');\r\n    const savedCurrentKeyword = localStorage.getItem('currentKeyword');\r\n    if (savedSearchResult && savedCurrentKeyword){\r\n      setSearchResult(JSON.parse(savedSearchResult));\r\n      setCurrentKeyword(savedCurrentKeyword)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [localStorage]);\r\n  useEffect(() => {\r\n    checkToken();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [localStorage]);\r\n  useEffect(() => {\r\n    handleHeaderChange(pathname)\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className='app'>\r\n      <Header\r\n        isLogin={isLogin}\r\n        isHeaderBlack={isHeaderBlack}\r\n        onPopupForSignup={handlePopupForSignup}\r\n        onLogout={logout}\r\n        isMobilePopupOpen={isMobilePopupOpen}\r\n        onMobilePopupOpen={handleMobilePopup}\r\n      />\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <Main\r\n            onSaveArticle={saveArticle}\r\n            onDeleteArticle={deleteArticle}\r\n            onGetArticles={getSearchResult}\r\n            searchResult={searchResult}\r\n            isSearchCompleted={isSearchCompleted}\r\n            keyword={currentKeyword}\r\n            isRenderLoading={isRenderLoading}\r\n            isLogin={isLogin}\r\n          />\r\n        </Route>\r\n        <ProtectedRoute\r\n          path='/saved-news'\r\n          component={SavedNews}\r\n          isLogin={isLogin}\r\n          onPopupForSignup={handlePopupForSignup}\r\n          savedArticles={savedArticles}\r\n          sortedKeywords={sortedKeywords}\r\n          getSavedArticles={getSavedArticles}\r\n          onDeleteArticle={deleteArticle}\r\n        />\r\n      </Switch>\r\n      <Footer/>\r\n      <PopupForLogin\r\n        isPopupForLoginOpen={isPopupForLoginOpen}\r\n        onClose={handleCloseAllPopups}\r\n        onPopupForSignup={handlePopupForSignup}\r\n        onOverlayClick={handleOverlayClick}\r\n        onSubmit={handlePopupSubmit}\r\n        isValid={isValid}\r\n        onChange={handleChange}\r\n        values={values}\r\n        errors={errors}\r\n        submitError={submitError}\r\n      />\r\n      <PopupForSignup\r\n        isPopupForSignupOpen={isPopupForSignupOpen}\r\n        onClose={handleCloseAllPopups}\r\n        onPopupForLogin={handlePopupForLogin}\r\n        onSubmit={handlePopupSubmit}\r\n        onOverlayClick={handleOverlayClick}\r\n        isValid={isValid}\r\n        onChange={handleChange}\r\n        values={values}\r\n        errors={errors}\r\n        submitError={submitError}\r\n      />\r\n      <PopupInfoTip\r\n        isLogin={isLogin}\r\n        infoTipText={infoTipText}\r\n        isOpen={isPopupInfoTipOpen}\r\n        onClose={handleCloseAllPopups}\r\n        onPopupForLogin={handlePopupForLogin}\r\n        onOverlayClick={handleOverlayClick}\r\n      />\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { basedUrlMainApi as basedUrl } from \"./constants\";\r\n\r\nexport const signup = ({ password, email, name }) => {\r\n  return fetch(`${basedUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n      name: name\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n\r\nexport const login = ({ password, email }) => {\r\n  return fetch(`${basedUrl}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      console.log(response);\r\n      return response.json();\r\n      \r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getArticles = (token) => {\r\n  return fetch(`${basedUrl}/articles`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${basedUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n\r\nexport const saveArticle = (token, data) => {\r\n  return fetch(`${basedUrl}/articles`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      keyword: data.keyword,\r\n      title: data.title,\r\n      text: data.text,\r\n      date: data.date,\r\n      source: data.source,\r\n      image: data.image,\r\n      link: data.link,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n\r\nexport const deleteArticle = (token, cardId) => {\r\n  return fetch(`${basedUrl}/articles/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}