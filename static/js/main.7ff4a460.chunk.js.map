{"version":3,"sources":["contexts/CurrentUserContext.js","images/logout-black.svg","images/logout-white.svg","components/Header/Header.js","images/avatar.jpg","components/About/About.js","components/SearchForm/SearchForm.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","images/not-found.svg","components/SearchResult/SearchResult.js","components/Main/Main.js","images/github-icon.svg","images/facebook-icon.svg","components/Footer/Footer.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/PopupWithForm/PopupWithForm.js","components/PopupForLogin/PopupForLogin.js","components/PopupForSignup/PopupForSignup.js","components/PopupInfoTip/PopupInfoTip.js","utils/constants.js","utils/NewsApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","utils/MainApi.js","serviceWorker.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","useState","scroll","setScroll","isMenuOpen","setIsMenuOpen","currentUser","useContext","handleScroll","window","scrollY","menuClose","logoutIcon","isHeaderBlack","logoutIconBlack","logoutIconWhite","useEffect","addEventListener","removeEventListener","className","to","onClick","isMobilePopupOpen","activeClassName","exact","isLogin","onMobilePopupOpen","onPopupForSignup","onLogout","name","alt","src","About","avatar","href","rel","target","SearchForm","searchInput","useRef","searchBlock","isValid","setIsValid","isErrHide","setIsErrHide","ref","onSubmit","ev","preventDefault","onGetArticles","current","value","scrollTo","scrollHeight","noValidate","onMouseDown","type","id","autoComplete","required","placeholder","minLength","onChange","closest","checkValidity","disabled","NewsCard","isCardSaved","setIsCardSaved","isButtonOnFocus","setIsButtonOnFocus","location","useLocation","pathname","cardText","card","description","text","cardLink","url","link","imgSource","urlToImage","image","keyword","cardDate","publishedAt","date","cardSource","source","handleClick","data","title","onSaveArticle","handleSaveArticle","onDeleteArticle","_id","handleFocus","year","slice","month","replace","dateConverter","onMouseEnter","onMouseLeave","NewsCardList","cards","map","i","Preloader","SearchResult","cardsNumber","setCardsNumber","cardsFiltred","searchResult","filter","cardsSliced","isSearchSuccess","length","isNotResult","isSearchCompleted","isRenderLoading","notFoundIcon","Main","Footer","githubIcon","fbIcon","SavedNewsHeader","numberOfArticles","savedArticles","sortedKeywords","SavedNews","getSavedArticles","PopupWithForm","isOpenClassName","isPopupForSignupOpen","isPopupForLoginOpen","onOverlayClick","action","method","onClose","values","email","pattern","errors","password","maxLength","submitError","defaultValue","buttonName","onButtonClick","buttonLink","PopupForLogin","inputId","inputNameClass","PopupForSignup","onPopupForLogin","PopupInfoTip","isOpen","infoTipText","basedUrlMainApi","Api","this","_currentDate","Date","_initialDate","setDate","getDate","_formatDate","getFullYear","getMonth","params","fetch","then","result","ok","json","Promise","reject","status","_fetch","ProtectedRoute","Component","component","isLoginlocal","localStorage","getItem","App","history","useHistory","newsApi","NewsApi","setIsLogin","setCurrentUser","setIsHeaderBlack","setIsPopupForLoginOpen","setIsPopupForSignupOpen","isPopupInfoTipOpen","setIsPopupInfoTipOpen","setIsMobilePopupOpen","setSearchResult","setSavedArticles","setSortedKeywords","setIsSearchCompleted","currentKeyword","setCurrentKeyword","setIsRenderLoading","setInfoTipText","setValues","setErrors","setSubmitError","handleChange","event","validationMessage","resetForm","useCallback","newValues","newErrors","newIsValid","newSubmitError","handleCloseAllPopups","document","onEscClose","evt","key","handlePopupForSignup","handlePopupInfoTip","handlePopupForLogin","handleOverlayClick","classList","contains","token","basedUrl","headers","Accept","Authorization","response","res","getArticlesApi","convertedKeywords","el","reduce","prevVal","item","sorrtedKeywords","Object","keys","sort","a","b","catch","error","console","deleteArticle","cardId","deleteArticleApi","onLogin","body","JSON","stringify","loginApi","setItem","message","Error","err","log","onSignup","signupApi","checkToken","checkTokenApi","handlePopupSubmit","savedSearchResult","savedCurrentKeyword","parse","handleHeaderChange","Provider","removeItem","push","path","saveArticleApi","convertedKeyword","toUpperCase","getArticles","articles","finally","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7ff4a460.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/logout-black.4fb874ec.svg\";","export default __webpack_public_path__ + \"static/media/logout-white.1f2ed6dd.svg\";","import React, { useState, useEffect, useContext } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport logoutIconBlack from \"../../images/logout-black.svg\";\nimport logoutIconWhite from \"../../images/logout-white.svg\";\nimport { NavLink, Link } from \"react-router-dom\";\n\nfunction Header(props) {\n  const [scroll, setScroll] = useState(0);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const currentUser = useContext(CurrentUserContext);\n  const handleScroll = () => {\n    setScroll(window.scrollY);\n  };\n  function menuOpen() {\n    setIsMenuOpen(true);\n  }\n  function menuClose() {\n    setIsMenuOpen(false);\n  }\n  function authButtonClick() {\n    menuClose();\n    props.onMobilePopupOpen();\n    props.onPopupForSignup();\n  }\n  const logoutIcon = `${\n    props.isHeaderBlack ? logoutIconBlack : logoutIconWhite\n  }`;\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <>\n      <div\n        className={\n          \"header__overlay\" + (isMenuOpen ? \" header__overlay_active\" : \"\")\n        }\n      ></div>\n      {(props.isHeaderBlack || scroll <= 350) && (\n        <header\n          className={\n            \"header\" +\n            (props.isHeaderBlack ? \" header_black-version\" : \"\") +\n            (isMenuOpen ? \" header_opened-menu\" : \"\")\n          }\n        >\n          <Link\n            className={\n              \"header__logo header__link\" +\n              (props.isHeaderBlack\n                ? \" header__link_black-version header__logo_black-version\"\n                : \"\")\n            }\n            to=\"/\"\n          >\n            NewsExplorer\n          </Link>\n          {isMenuOpen ? (\n            <button\n              className={\n                \"header__menu-button\" +\n                (props.isHeaderBlack\n                  ? \" header__menu-button_close_black-version\"\n                  : \"   header__menu-button_close\")\n              }\n              onClick={menuClose}\n            ></button>\n          ) : (\n            <button\n              className={\n                \"header__menu-button\" +\n                (props.isHeaderBlack\n                  ? \" header__menu-button_open_black-version\"\n                  : \"   header__menu-button_open\") +\n                (props.isMobilePopupOpen ? \" header__menu-button_hidden\" : \"\")\n              }\n              onClick={menuOpen}\n            ></button>\n          )}\n          <nav\n            className={\n              \"header__nav\" + (isMenuOpen ? \"\" : \" header__nav_hidden\")\n            }\n          >\n            <NavLink\n              activeClassName={\n                props.isHeaderBlack\n                  ? \"header__link_active_black-version\"\n                  : \"header__link_active\"\n              }\n              className={\n                \"header__main header__link\" +\n                (props.isHeaderBlack ? \" header__link_black-version\" : \"\")\n              }\n              exact\n              to=\"/\"\n            >\n              Главная\n            </NavLink>\n            {props.isLogin && (\n              <NavLink\n                activeClassName={\n                  props.isHeaderBlack\n                    ? \"header__link_active_black-version\"\n                    : \"header__link_active\"\n                }\n                className={\n                  \"header__saved-news header__link\" +\n                  (props.isHeaderBlack ? \" header__link_black-version\" : \"\")\n                }\n                to=\"/saved-news\"\n              >\n                Сохранённые статьи\n              </NavLink>\n            )}\n            {!props.isLogin && (\n              <button\n                className={\n                  \"header__auth-button\" +\n                  (props.isHeaderBlack\n                    ? \" header__auth-button_black-version\"\n                    : \"\")\n                }\n                onClick={authButtonClick}\n              >\n                Авторизоваться\n              </button>\n            )}\n            {props.isLogin && (\n              <button\n                className={\n                  \"header__auth-button\" +\n                  (props.isHeaderBlack\n                    ? \" header__auth-button_black-version\"\n                    : \"\")\n                }\n                onClick={props.onLogout}\n              >\n                {props.isLogin && (\n                  <>\n                    <span\n                      className={\n                        \"header__auth-name\" +\n                        (props.isHeaderBlack\n                          ? \" header__auth-name_black-version\"\n                          : \"\")\n                      }\n                    >\n                      {currentUser.name}\n                    </span>\n                    <img\n                      className=\"header__logout-button\"\n                      alt=\"Выход\"\n                      src={logoutIcon}\n                    />\n                  </>\n                )}\n              </button>\n            )}\n          </nav>\n        </header>\n      )}\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/avatar.bdeec35a.jpg\";","import React, { useContext } from \"react\";\nimport avatar from \"../../images/avatar.jpg\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction About() {\n  const currentUser = useContext(CurrentUserContext);\n  return (\n    <div className=\"about\">\n      <img className=\"about__avatar\" alt=\"Аватар пользователя\" src={avatar} />\n      <div className=\"about__wrapper\">\n        <h2 className=\"about__title\">Об авторе</h2>\n        <p className=\"about__text\">\n          Привет, {currentUser.name ? currentUser.name + \",\" : \"\"} меня зовут\n          Константин!\n          <br />\n          Это мой дипломный проект по завершению курса Frontend разработчика.\n          Это сервис - агрегатор новостей.\n          <br />\n          Вы можете искать новости интересующей вас теме с помощью стороннего\n          API Newsapi.org. Сейчас реализована регистрация, авторизация,\n          сохранение и удаление найденных новостей на отдельной странице, так\n          что - вперед, попробуйте!\n          <br />\n          Рад, что вы зашли)\n        </p>\n        <p className=\"about__github\">\n          Код проекта на GitHub:\n          <div className=\"about__github-link-wrap\">\n            <a\n              className=\"about__github-link\"\n              href=\"https://github.com/BerezinKonstantin/news-explorer-frontend\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              Frontend\n            </a>\n            <a\n              className=\"about__github-link\"\n              href=\"https://github.com/BerezinKonstantin/news-explorer-api\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              Backend\n            </a>\n          </div>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default About;\n","import React from \"react\";\n\nfunction SearchForm(props) {\n  const searchInput = React.useRef();\n  const searchBlock = React.useRef();\n  const [isValid, setIsValid] = React.useState(false);\n  const [isErrHide, setIsErrHide] = React.useState(true);\n  const handleChange = (ev) => {\n    setIsValid(ev.target.closest(\"form\").checkValidity());\n  };\n  const scrollToSearch = () => {\n    window.scrollTo(0, searchBlock.current.scrollHeight);\n  };\n  function handleSubmit(ev) {\n    ev.preventDefault();\n    props.onGetArticles(searchInput.current.value);\n    scrollToSearch();\n  }\n  function handleErrHide() {\n    setIsErrHide(false);\n  }\n\n  return (\n    <div ref={searchBlock} className=\"search-form\">\n      <h1 className=\"search-form__title\">Что творится в мире?</h1>\n      <p className=\"search-form__subtitle\">\n        Находите самые свежие статьи на любую тему и сохраняйте в своём личном\n        кабинете.\n      </p>\n\n      <form\n        className=\"search-form__form\"\n        onSubmit={handleSubmit}\n        noValidate\n        onMouseDown={handleErrHide}\n      >\n        {!isValid && !isErrHide && (\n          <span className=\"search-form__error\">\n            Нужно ввести ключевое слово для поиска\n          </span>\n        )}\n        <div className=\"search-form__input-wrapper\">\n          <input\n            type=\"text\"\n            id=\"input-search\"\n            className=\"search-form__input\"\n            name=\"search\"\n            autoComplete=\"off\"\n            ref={searchInput}\n            required\n            placeholder=\"Введите тему новости\"\n            minLength=\"2\"\n            onChange={handleChange}\n          />\n          <button\n            className=\"search-form__submit-button\"\n            type=\"submit\"\n            disabled={!isValid}\n          >\n            Искать\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default SearchForm;\n","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nfunction NewsCard(props) {\r\n  const [isCardSaved, setIsCardSaved] = useState(false);\r\n  const [isButtonOnFocus, setIsButtonOnFocus] = useState(false);\r\n  const location = useLocation().pathname;\r\n  const cardText = `${\r\n    location === \"/\" ? props.card.description : props.card.text\r\n  }`;\r\n  const cardLink = `${location === \"/\" ? props.card.url : props.card.link}`;\r\n  const imgSource = `${\r\n    location === \"/\" ? props.card.urlToImage : props.card.image\r\n  }`;\r\n  const keyword = `${location === \"/\" ? props.keyword : props.card.keyword}`;\r\n  const cardDate = `${\r\n    location === \"/\" ? props.card.publishedAt : props.card.date\r\n  }`;\r\n  const cardSource = `${\r\n    location === \"/\" ? props.card.source.name : props.card.source\r\n  }`;\r\n  useEffect(() => {\r\n    setIsCardSaved(false);\r\n  }, [props]);\r\n  function handleSaveArticle() {\r\n    if (props.isLogin && !isCardSaved) {\r\n      if (location === \"/\") {\r\n        const data = {\r\n          link: props.card.url,\r\n          keyword: props.keyword,\r\n          title: props.card.title,\r\n          text: props.card.description,\r\n          date: props.card.publishedAt,\r\n          source: props.card.source.name,\r\n          image: props.card.urlToImage,\r\n        };\r\n        props.onSaveArticle(data);\r\n        setIsCardSaved(true);\r\n      }\r\n    }\r\n  }\r\n  function handleDeleteArticle() {\r\n    props.onDeleteArticle(props.card._id);\r\n    setIsCardSaved(false);\r\n  }\r\n  function handleClick() {\r\n    if (location === \"/\") {\r\n      handleSaveArticle();\r\n    }\r\n    if (location === \"/saved-news\") {\r\n      handleDeleteArticle();\r\n    }\r\n  }\r\n  function handleFocus() {\r\n    setIsButtonOnFocus(!isButtonOnFocus);\r\n  }\r\n\r\n  function dateConverter(date) {\r\n    const year = date.slice(0, 4);\r\n    const month = date.slice(5, 7);\r\n    const day = date.slice(8, 10);\r\n    const convertedMonth = month\r\n      .replace(\"01\", \"Января\")\r\n      .replace(\"02\", \"Февраля\")\r\n      .replace(\"03\", \"Марта\")\r\n      .replace(\"04\", \"Апреля\")\r\n      .replace(\"05\", \"Мая\")\r\n      .replace(\"06\", \"Июня\")\r\n      .replace(\"07\", \"Июля\")\r\n      .replace(\"08\", \"Августа\")\r\n      .replace(\"09\", \"Сентября\")\r\n      .replace(\"10\", \"Октября\")\r\n      .replace(\"11\", \"Ноября\")\r\n      .replace(\"12\", \"Декабря\");\r\n    return day + \" \" + convertedMonth + \", \" + year;\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <a\r\n        className=\"card_link\"\r\n        href={cardLink}\r\n        rel=\"noopener noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <img className=\"card__picture\" src={imgSource} alt={props.card.title} />\r\n        <p className=\"card__date\">{dateConverter(cardDate)}</p>\r\n        <h2 className=\"card__title\">{props.card.title}</h2>\r\n        <p className=\"card__text\">{cardText}</p>\r\n        <p className=\"card__source\">{cardSource}</p>\r\n      </a>\r\n      <p className=\"card__tag\">{keyword}</p>\r\n      {location === \"/\" ? (\r\n        <button\r\n          className={\r\n            \"card__button card__button_save\" +\r\n            (isCardSaved ? \" card__button_save_active\" : \"\")\r\n          }\r\n          onClick={handleClick}\r\n          onMouseEnter={handleFocus}\r\n          onMouseLeave={handleFocus}\r\n        ></button>\r\n      ) : (\r\n        <button\r\n          className={\"card__button card__button_delete\"}\r\n          onClick={handleClick}\r\n          onMouseEnter={handleFocus}\r\n          onMouseLeave={handleFocus}\r\n        ></button>\r\n      )}\r\n      {isButtonOnFocus && props.isLogin && location === \"/saved-news\" && (\r\n        <p className=\"card__button-label\">Удалить из сохранённых</p>\r\n      )}\r\n      {isButtonOnFocus && !props.isLogin && (\r\n        <p className=\"card__button-label\">Войдите, чтобы сохранять статьи</p>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default NewsCard;\r\n","import React from \"react\";\r\nimport NewsCard from \"../NewsCard/NewsCard\";\r\n\r\nfunction NewsCardList(props) {\r\n  return (\r\n    <ul className=\"card-list\">\r\n      {props.cards.map((card, i) => (\r\n        <NewsCard\r\n          card={card}\r\n          key={i}\r\n          keyword={props.keyword}\r\n          onSaveArticle={props.onSaveArticle}\r\n          onDeleteArticle={props.onDeleteArticle}\r\n          isLogin={props.isLogin}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default NewsCardList;\r\n","import React from \"react\";\r\n\r\nfunction Preloader() {\r\n  return <i className=\"circle-preloader\" />;\r\n}\r\n\r\nexport default Preloader;\r\n","export default __webpack_public_path__ + \"static/media/not-found.39241ac1.svg\";","import React, { useState } from \"react\";\nimport NewsCardList from \"../NewsCardList/NewsCardList\";\nimport Preloader from \"../Preloader/Preloader\";\nimport notFoundIcon from \"../../images/not-found.svg\";\n\nfunction SearchResult(props) {\n  const [cardsNumber, setCardsNumber] = useState(3);\n  const cardsFiltred = props.searchResult.filter((card) => card.urlToImage);\n  const cardsSliced = cardsFiltred.slice(0, 0 + cardsNumber);\n  const isSearchSuccess = cardsFiltred.length !== 0 ? true : false;\n  const isNotResult =\n    cardsFiltred.length === 0 && props.isSearchCompleted ? true : false;\n  function showMoreCards() {\n    let nextNumber = cardsNumber + 3;\n    setCardsNumber(nextNumber);\n  }\n\n  return (\n    <>\n      {(isSearchSuccess || props.isRenderLoading || isNotResult) && (\n        <div className=\"search-result\">\n          {props.isRenderLoading && (\n            <>\n              <Preloader />\n              <p className=\"search-result__subtitle\">Идет поиск новостей...</p>\n            </>\n          )}\n          {isSearchSuccess && (\n            <>\n              <h1 className=\"search-result__title\">Результаты поиска</h1>\n              <NewsCardList\n                cards={cardsSliced}\n                keyword={props.keyword}\n                onSaveArticle={props.onSaveArticle}\n                onDeleteArticle={props.onDeleteArticle}\n                isLogin={props.isLogin}\n              />\n              {cardsSliced.length < cardsFiltred.length && (\n                <button\n                  className=\"search-result__more_button\"\n                  type=\"button\"\n                  onClick={showMoreCards}\n                >\n                  Показать ещё\n                </button>\n              )}\n            </>\n          )}\n          {isNotResult && (\n            <>\n              <img\n                className=\"search-result__img_not-result\"\n                src={notFoundIcon}\n                alt=\"Ничего не найдено\"\n              />\n              <h2 className=\"search-result__title_not-result\">\n                Ничего не найдено\n              </h2>\n              <p className=\"search-result__subtitle\">\n                К сожалению, по вашему запросу ничего не найдено.\n              </p>\n            </>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default SearchResult;\n","import React from \"react\";\r\nimport About from \"../About/About\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport SearchResult from \"../SearchResult/SearchResult\";\r\n\r\nfunction Main(props) {\r\n  return (\r\n    <main className=\"main\">\r\n      <SearchForm onGetArticles={props.onGetArticles} />\r\n      <SearchResult\r\n        searchResult={props.searchResult}\r\n        isSearchCompleted={props.isSearchCompleted}\r\n        keyword={props.keyword}\r\n        onSaveArticle={props.onSaveArticle}\r\n        onDeleteArticle={props.onDeleteArticle}\r\n        isRenderLoading={props.isRenderLoading}\r\n        isLogin={props.isLogin}\r\n      />\r\n      <About />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/github-icon.618ae51c.svg\";","export default __webpack_public_path__ + \"static/media/facebook-icon.d5ca0b9c.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport githubIcon from \"../../images/github-icon.svg\";\r\nimport fbIcon from \"../../images/facebook-icon.svg\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; 2020 Supersite, Powered by News API\r\n      </p>\r\n      <nav className=\"footer__nav\">\r\n        <div className=\"footer__nav-wrapper\">\r\n          <Link className=\"footer__link\" to=\"/\">\r\n            Главная\r\n          </Link>\r\n          <a\r\n            className=\"footer__link\"\r\n            href=\"https://praktikum.yandex.ru\"\r\n            rel=\"noopener noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            Яндекс Практикум\r\n          </a>\r\n        </div>\r\n        <div className=\"footer__nav-wrapper\">\r\n          <a\r\n            className=\"footer__social-link\"\r\n            href=\"https://github.com\"\r\n            rel=\"noopener  noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            <img\r\n              className=\"footer__social-link-img\"\r\n              src={githubIcon}\r\n              alt=\"Иконка GitHub\"\r\n            />\r\n          </a>\r\n          <a\r\n            className=\"footer__social-link\"\r\n            href=\"https://www.facebook.com\"\r\n            rel=\"noopener noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            <img\r\n              className=\"footer__social-link-img\"\r\n              src={fbIcon}\r\n              alt=\"Иконка Facebook\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </nav>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction SavedNewsHeader(props) {\n  const articles = props.savedArticles;\n  const numberOfArticles = articles.length;\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div className=\"saved-news-header\">\n      <p className=\"saved-news-header__sub-title\">Сохранённые статьи</p>\n      <h1 className=\"saved-news-header__title\">\n        {currentUser.name}, у вас {numberOfArticles}\n        {numberOfArticles === 1 ? \" сохранённая\" : \" сохранённых\"}\n        {numberOfArticles === 1\n          ? \" статья\"\n          : numberOfArticles <= 4\n          ? \" статьи\"\n          : \" статей\"}\n      </h1>\n      {props.sortedKeywords.length > 0 && (\n        <p className=\"saved-news-header__info\">\n          По ключевым словам:\n          <span className=\"saved-news-header__info-bold\">\n            &nbsp;{props.sortedKeywords[0]}\n            {props.sortedKeywords.length > 1 && \", \" + props.sortedKeywords[1]}\n            &nbsp;\n          </span>\n          {props.sortedKeywords.length > 2 && (\n            <>\n              и\n              <span className=\"saved-news-header__info-bold\">\n                &nbsp;{props.sortedKeywords.length - 2}-\n                {props.sortedKeywords.length === 3 ? \"му\" : \"м\"}&nbsp;\n              </span>\n              {props.sortedKeywords.length === 3 ? \"другому\" : \"другим\"}\n            </>\n          )}\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default SavedNewsHeader;\n","import React, { useEffect } from \"react\";\r\nimport NewsCardList from \"../NewsCardList/NewsCardList\";\r\nimport SavedNewsHeader from \"../SavedNewsHeader/SavedNewsHeader\";\r\n\r\nfunction SavedNews(props) {\r\n  useEffect(() => {\r\n    props.getSavedArticles();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <main className=\"saved-news\">\r\n      <SavedNewsHeader\r\n        savedArticles={props.savedArticles}\r\n        sortedKeywords={props.sortedKeywords}\r\n      />\r\n      <NewsCardList\r\n        cards={props.savedArticles}\r\n        onDeleteArticle={props.onDeleteArticle}\r\n        isLogin={props.isLogin}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SavedNews;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  let isOpenClassName;\r\n  if (props.isPopupForSignupOpen || props.isPopupForLoginOpen) {\r\n    isOpenClassName = \"popup_opened\";\r\n  }\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_for_${props.name} ${isOpenClassName}`}\r\n      onClick={props.onOverlayClick}\r\n    >\r\n      <form\r\n        id={`form_for_${props.name}`}\r\n        className=\"popup__form\"\r\n        action=\"#\"\r\n        method=\"POST\"\r\n        noValidate\r\n        onSubmit={props.onSubmit}\r\n      >\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <fieldset className=\"popup__fieldset\">\r\n          <span className=\"popup__input-label\">Email</span>\r\n          <input\r\n            className=\"popup__input popup__input_email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={props.onChange}\r\n            value={props.values.email || \"\"}\r\n            autoComplete=\"email\"\r\n            required\r\n            placeholder=\"Введите почту\"\r\n            pattern=\"([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})\"\r\n          />\r\n          {props.errors.email && (\r\n            <span className=\"popup__input-error-text\">\r\n              {props.errors.email}\r\n            </span>\r\n          )}\r\n          <span className=\"popup__input-label\">Пароль</span>\r\n          <input\r\n            className=\"popup__input popup__input_password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={props.onChange}\r\n            value={props.values.password || \"\"}\r\n            autoComplete=\"current-password\"\r\n            required\r\n            placeholder=\"Введите пароль\"\r\n            maxLength=\"32\"\r\n            minLength=\"8\"\r\n          />\r\n          {props.errors.password && (\r\n            <span className=\"popup__input-error-text\">\r\n              {props.errors.password}\r\n            </span>\r\n          )}\r\n          {props.isPopupForSignupOpen && (\r\n            <>\r\n              <span className=\"popup__input-label\">Имя</span>\r\n              <input\r\n                className=\"popup__input popup__input_name\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={props.onChange}\r\n                value={props.values.name || \"\"}\r\n                required\r\n                placeholder=\"Введите свое имя\"\r\n                pattern=\"[а-яА-Яa-zA-Z]{2,20}\"\r\n                maxLength=\"20\"\r\n                minLength=\"2\"\r\n              />\r\n              {props.errors.name && (\r\n                <span className=\"popup__input-error-text\">\r\n                  {props.errors.name}\r\n                </span>\r\n              )}\r\n            </>\r\n          )}\r\n          <span\r\n            className={\r\n              \"popup__input-error-text popup__auth-error-text\" +\r\n              (props.submitError ? \" popup__auth-error-text_active\" : \"\")\r\n            }\r\n          >\r\n            {props.submitError}\r\n          </span>\r\n        </fieldset>\r\n        <button\r\n          className=\"popup__submit-button\"\r\n          type=\"submit\"\r\n          defaultValue={props.buttonName}\r\n          disabled={!props.isValid}\r\n        >\r\n          {props.buttonName}\r\n        </button>\r\n        <div className=\"popup__link-wrapper\">\r\n          <span>или</span>\r\n          <button\r\n            className=\"popup__link-button\"\r\n            type=\"button\"\r\n            onClick={props.onButtonClick}\r\n          >\r\n            {props.buttonLink}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction PopupForLogin(props) {\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вход\"\r\n      name=\"login\"\r\n      inputId=\"login\"\r\n      isPopupForLoginOpen={props.isPopupForLoginOpen}\r\n      onClose={props.onClose}\r\n      buttonName=\"Войти\"\r\n      buttonLink=\"Зарегистрироваться\"\r\n      onButtonClick={props.onPopupForSignup}\r\n      inputNameClass=\"popup__input-name-wrapper_hidden\"\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={props.onSubmit}\r\n      isValid={props.isValid}\r\n      onChange={props.onChange}\r\n      values={props.values}\r\n      errors={props.errors}\r\n      submitError={props.submitError}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupForLogin;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction PopupForSignup(props) {\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Регистрация\"\r\n      name=\"signup\"\r\n      inputId=\"signup\"\r\n      isPopupForSignupOpen={props.isPopupForSignupOpen}\r\n      onClose={props.onClose}\r\n      buttonName=\"Зарегистрироваться\"\r\n      buttonLink=\"Войти\"\r\n      onButtonClick={props.onPopupForLogin}\r\n      inputNameClass=\"popup__input-name-wrapper_active\"\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={props.onSubmit}\r\n      isValid={props.isValid}\r\n      onChange={props.onChange}\r\n      values={props.values}\r\n      errors={props.errors}\r\n      submitError={props.submitError}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupForSignup;\r\n","import React from \"react\";\r\n\r\nfunction PopupInfoTip(props) {\r\n  let isOpen;\r\n  if (props.isOpen) {\r\n    isOpen = \"popup_opened\";\r\n  }\r\n  function redirectToLogin() {\r\n    props.onClose();\r\n    props.onPopupForLogin();\r\n  }\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_info-tip ${isOpen}`}\r\n      onClick={props.onOverlayClick}\r\n    >\r\n      <div className=\"popup__form popup__form-info-tip\">\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.infoTipText}</h2>\r\n        {!props.isLogin && (\r\n          <button\r\n            className=\"popup__link-button-info-tip\"\r\n            type=\"button\"\r\n            onClick={redirectToLogin}\r\n          >\r\n            Войти\r\n          </button>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupInfoTip;\r\n","export const basedUrlNewsApi = \"https://nomoreparties.co/news/v2/everything?\";\r\nexport const basedUrlMainApi = \"https://news-explorer-api.onrender.com\";\r\nexport const apiKey = \"68f1c98bd386460cb603e368a24a99b3\";\r\n","import { apiKey, basedUrlNewsApi as basedUrl } from \"./constants\";\r\n\r\nexport default class Api {\r\n  constructor() {\r\n    this._currentDate = new Date();\r\n    this._initialDate = new Date();\r\n    this._initialDate.setDate(this._initialDate.getDate() - 7);\r\n    this._formatDate = (date) => {\r\n      return (\r\n        date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate()\r\n      );\r\n    };\r\n  }\r\n  _fetch(url, params) {\r\n    return fetch(url, params).then((result) => {\r\n      if (result.ok) {\r\n        return result.json();\r\n      }\r\n      return Promise.reject(result.status);\r\n    });\r\n  }\r\n  getArticles(keyword) {\r\n    return this._fetch(\r\n      `${basedUrl}q=${keyword}&from=${this._formatDate(\r\n        this._initialDate\r\n      )}&to=${this._formatDate(\r\n        this._currentDate\r\n      )}&sortBy=publishedAt&pageSize=100&apiKey=${apiKey} `,\r\n      {\r\n        method: \"GET\",\r\n      }\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  const isLoginlocal = localStorage.getItem(\"isLogin\");\r\n  useEffect(() => {\r\n    if (!props.isLogin && !isLoginlocal) {\r\n      props.onPopupForSignup();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.isLogin || isLoginlocal ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useLocation, useHistory, Route, Switch } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport SavedNews from \"../SavedNews/SavedNews\";\r\nimport PopupForLogin from \"../PopupForLogin/PopupForLogin\";\r\nimport PopupForSignup from \"../PopupForSignup/PopupForSignup\";\r\nimport PopupInfoTip from \"../PopupInfoTip/PopupInfoTip\";\r\nimport NewsApi from \"../../utils/NewsApi\";\r\nimport {\r\n  signup as signupApi,\r\n  login as loginApi,\r\n  checkToken as checkTokenApi,\r\n  saveArticle as saveArticleApi,\r\n  getArticles as getArticlesApi,\r\n  deleteArticle as deleteArticleApi,\r\n} from \"../../utils/MainApi\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const newsApi = new NewsApi();\r\n  const pathname = useLocation().pathname;\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isHeaderBlack, setIsHeaderBlack] = useState();\r\n  const [isPopupForLoginOpen, setIsPopupForLoginOpen] = useState(false);\r\n  const [isPopupForSignupOpen, setIsPopupForSignupOpen] = useState(false);\r\n  const [isPopupInfoTipOpen, setIsPopupInfoTipOpen] = useState(false);\r\n  const [isMobilePopupOpen, setIsMobilePopupOpen] = useState(false);\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [savedArticles, setSavedArticles] = useState([]);\r\n  const [sortedKeywords, setSortedKeywords] = useState([]);\r\n  const [isSearchCompleted, setIsSearchCompleted] = useState(false);\r\n  const [currentKeyword, setCurrentKeyword] = useState();\r\n  const [isRenderLoading, setIsRenderLoading] = useState(false);\r\n  const [infoTipText, setInfoTipText] = useState(\"\");\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [submitError, setSubmitError] = useState(\"\");\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n  const resetForm = useCallback(\r\n    (\r\n      newValues = {},\r\n      newErrors = {},\r\n      newIsValid = false,\r\n      newSubmitError = \"\"\r\n    ) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n      setSubmitError(newSubmitError);\r\n    },\r\n    [setValues, setErrors, setIsValid, setSubmitError]\r\n  );\r\n\r\n  function handleHeaderChange(pathname) {\r\n    if (pathname === \"/saved-news\") {\r\n      setIsHeaderBlack(true);\r\n    }\r\n    if (pathname === \"/\") {\r\n      setIsHeaderBlack(false);\r\n    }\r\n  }\r\n  function handleCloseAllPopups() {\r\n    setIsPopupForLoginOpen(false);\r\n    setIsPopupForSignupOpen(false);\r\n    setIsPopupInfoTipOpen(false);\r\n    setIsMobilePopupOpen(false);\r\n    document.removeEventListener(\"keydown\", onEscClose);\r\n  }\r\n  function onEscClose(evt) {\r\n    if (evt.key === \"Escape\") {\r\n      handleCloseAllPopups();\r\n    }\r\n  }\r\n  function handlePopupForSignup() {\r\n    resetForm();\r\n    setIsPopupForSignupOpen(true);\r\n    setIsPopupForLoginOpen(false);\r\n    document.addEventListener(\"keydown\", onEscClose);\r\n  }\r\n  function handlePopupInfoTip() {\r\n    setIsPopupInfoTipOpen(true);\r\n    document.addEventListener(\"keydown\", onEscClose);\r\n  }\r\n  function handlePopupForLogin() {\r\n    resetForm();\r\n    setIsPopupForSignupOpen(false);\r\n    setIsPopupForLoginOpen(true);\r\n    document.addEventListener(\"keydown\", onEscClose);\r\n  }\r\n  function handleMobilePopup() {\r\n    setIsMobilePopupOpen(true);\r\n  }\r\n  function logout() {\r\n    setIsLogin(false);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"isLogin\");\r\n    localStorage.removeItem(\"currentKeyword\");\r\n    localStorage.removeItem(searchResult);\r\n    history.push(\"/\");\r\n  }\r\n  function handleOverlayClick(evt) {\r\n    if (evt.target.classList.contains(\"popup\")) {\r\n      handleCloseAllPopups();\r\n    }\r\n  }\r\n  function getSearchResult(keyword) {\r\n    const convertedKeyword = keyword[0].toUpperCase() + keyword.slice(1);\r\n    setIsRenderLoading(true);\r\n    newsApi\r\n      .getArticles(convertedKeyword)\r\n      .then((result) => {\r\n        setSearchResult(result.articles);\r\n        setCurrentKeyword(convertedKeyword);\r\n        localStorage.setItem(\r\n          \"savedSearchResult\",\r\n          JSON.stringify(result.articles)\r\n        );\r\n        localStorage.setItem(\"currentKeyword\", convertedKeyword);\r\n        setIsSearchCompleted(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        setInfoTipText(\r\n          \"Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз\"\r\n        );\r\n        handlePopupInfoTip();\r\n      })\r\n      .finally(() => {\r\n        setIsRenderLoading(false);\r\n      });\r\n  }\r\n  function getSavedArticles() {\r\n    const token = localStorage.getItem(\"token\");\r\n    getArticlesApi(token)\r\n      .then((result) => {\r\n        setSavedArticles(result);\r\n        return result;\r\n      })\r\n      .then((result) => {\r\n        const articles = result;\r\n        const keywords = articles.map(function (el) {\r\n          return el.keyword;\r\n        });\r\n        const convertedKeywords = keywords.reduce(function (prevVal, item) {\r\n          if (!prevVal[item]) {\r\n            prevVal[item] = 1;\r\n          } else {\r\n            prevVal[item] += 1;\r\n          }\r\n          return prevVal;\r\n        }, {});\r\n        const sorrtedKeywords = Object.keys(convertedKeywords).sort(\r\n          (a, b) => convertedKeywords[b] - convertedKeywords[a]\r\n        );\r\n        setSortedKeywords(sorrtedKeywords);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n  function saveArticle(data) {\r\n    const token = localStorage.getItem(\"token\");\r\n    saveArticleApi(token, data).catch((error) => {\r\n      console.error(error);\r\n    });\r\n  }\r\n  function deleteArticle(cardId) {\r\n    const token = localStorage.getItem(\"token\");\r\n    deleteArticleApi(token, cardId)\r\n      .then(() => {\r\n        getSavedArticles();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n  function onLogin({ email, password }) {\r\n    loginApi({ email, password })\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem(\"token\", res.token);\r\n          localStorage.setItem(\"isLogin\", true);\r\n          setCurrentUser({\r\n            email: res.email,\r\n            name: res.name,\r\n            _id: res._id,\r\n          });\r\n          setIsLogin(true);\r\n          setInfoTipText(\"Вход выполнен!\");\r\n        }\r\n        if (res.message) {\r\n          setSubmitError(res.message);\r\n          throw new Error();\r\n        }\r\n      })\r\n      .then(() => {\r\n        handleCloseAllPopups();\r\n      })\r\n      .then(() => {\r\n        handlePopupInfoTip();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function onSignup({ password, email, name }) {\r\n    signupApi({ password, email, name })\r\n      .then((res) => {\r\n        if (res.email) {\r\n          setInfoTipText(\"Вы успешно зарегистрировались!\");\r\n        }\r\n        if (res.message) {\r\n          setSubmitError(res.message);\r\n          throw new Error();\r\n        }\r\n      })\r\n      .then(() => {\r\n        handleCloseAllPopups();\r\n      })\r\n      .then(() => {\r\n        handlePopupInfoTip();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function checkToken() {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      checkTokenApi(token).then((res) => {\r\n        if (res) {\r\n          setCurrentUser({\r\n            email: res.email,\r\n            name: res.name,\r\n            _id: res._id,\r\n          });\r\n          setIsLogin(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  function handlePopupSubmit(ev) {\r\n    ev.preventDefault();\r\n    if (isPopupForSignupOpen) {\r\n      onSignup({\r\n        password: values.password,\r\n        email: values.email,\r\n        name: values.name,\r\n      });\r\n    }\r\n    if (isPopupForLoginOpen) {\r\n      onLogin({\r\n        password: values.password,\r\n        email: values.email,\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const savedSearchResult = localStorage.getItem(\"savedSearchResult\");\r\n    const savedCurrentKeyword = localStorage.getItem(\"currentKeyword\");\r\n    if (savedSearchResult && savedCurrentKeyword) {\r\n      setSearchResult(JSON.parse(savedSearchResult));\r\n      setCurrentKeyword(savedCurrentKeyword);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [localStorage]);\r\n  useEffect(() => {\r\n    checkToken();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [localStorage]);\r\n  useEffect(() => {\r\n    handleHeaderChange(pathname);\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"app\">\r\n        <Header\r\n          isLogin={isLogin}\r\n          isHeaderBlack={isHeaderBlack}\r\n          onPopupForSignup={handlePopupForSignup}\r\n          onLogout={logout}\r\n          isMobilePopupOpen={isMobilePopupOpen}\r\n          onMobilePopupOpen={handleMobilePopup}\r\n        />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            path=\"/saved-news\"\r\n            component={SavedNews}\r\n            isLogin={isLogin}\r\n            onPopupForSignup={handlePopupForSignup}\r\n            savedArticles={savedArticles}\r\n            sortedKeywords={sortedKeywords}\r\n            getSavedArticles={getSavedArticles}\r\n            onDeleteArticle={deleteArticle}\r\n          />\r\n          <Route path=\"/\">\r\n            <Main\r\n              onSaveArticle={saveArticle}\r\n              onDeleteArticle={deleteArticle}\r\n              onGetArticles={getSearchResult}\r\n              searchResult={searchResult}\r\n              isSearchCompleted={isSearchCompleted}\r\n              keyword={currentKeyword}\r\n              isRenderLoading={isRenderLoading}\r\n              isLogin={isLogin}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <PopupForLogin\r\n          isPopupForLoginOpen={isPopupForLoginOpen}\r\n          onClose={handleCloseAllPopups}\r\n          onPopupForSignup={handlePopupForSignup}\r\n          onOverlayClick={handleOverlayClick}\r\n          onSubmit={handlePopupSubmit}\r\n          isValid={isValid}\r\n          onChange={handleChange}\r\n          values={values}\r\n          errors={errors}\r\n          submitError={submitError}\r\n        />\r\n        <PopupForSignup\r\n          isPopupForSignupOpen={isPopupForSignupOpen}\r\n          onClose={handleCloseAllPopups}\r\n          onPopupForLogin={handlePopupForLogin}\r\n          onSubmit={handlePopupSubmit}\r\n          onOverlayClick={handleOverlayClick}\r\n          isValid={isValid}\r\n          onChange={handleChange}\r\n          values={values}\r\n          errors={errors}\r\n          submitError={submitError}\r\n        />\r\n        <PopupInfoTip\r\n          isLogin={isLogin}\r\n          infoTipText={infoTipText}\r\n          isOpen={isPopupInfoTipOpen}\r\n          onClose={handleCloseAllPopups}\r\n          onPopupForLogin={handlePopupForLogin}\r\n          onOverlayClick={handleOverlayClick}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { basedUrlMainApi as basedUrl } from \"./constants\";\n\nexport const signup = ({ password, email, name }) => {\n  return fetch(`${basedUrl}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n      name: name,\n    }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const login = ({ password, email }) => {\n  return fetch(`${basedUrl}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const getArticles = (token) => {\n  return fetch(`${basedUrl}/articles`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${basedUrl}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const saveArticle = (token, data) => {\n  return fetch(`${basedUrl}/articles`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      keyword: data.keyword,\n      title: data.title,\n      text: data.text,\n      date: data.date,\n      source: data.source,\n      image: data.image,\n      link: data.link,\n    }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const deleteArticle = (token, cardId) => {\n  return fetch(`${basedUrl}/articles/${cardId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}